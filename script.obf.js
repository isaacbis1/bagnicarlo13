const a0_0x500058=a0_0x2d53;(function(_0x44b762,_0x33e827){const _0x265c05=a0_0x2d53,_0x31c2dd=_0x44b762();while(!![]){try{const _0x5d0229=parseInt(_0x265c05(0x1a3))/0x1*(-parseInt(_0x265c05(0x17d))/0x2)+-parseInt(_0x265c05(0x113))/0x3*(parseInt(_0x265c05(0x159))/0x4)+-parseInt(_0x265c05(0xe4))/0x5*(parseInt(_0x265c05(0x107))/0x6)+-parseInt(_0x265c05(0x104))/0x7*(parseInt(_0x265c05(0xc7))/0x8)+-parseInt(_0x265c05(0x170))/0x9*(parseInt(_0x265c05(0x8d))/0xa)+-parseInt(_0x265c05(0x166))/0xb+parseInt(_0x265c05(0x15f))/0xc;if(_0x5d0229===_0x33e827)break;else _0x31c2dd['push'](_0x31c2dd['shift']());}catch(_0x409770){_0x31c2dd['push'](_0x31c2dd['shift']());}}}(a0_0x3d0c,0xc693c),document[a0_0x500058(0xbe)]('contextmenu',_0xa240f0=>{_0xa240f0['preventDefault']();}),document['addEventListener'](a0_0x500058(0x1a2),_0x5eda2f=>{const _0x3e1045=a0_0x500058;if(_0x5eda2f[_0x3e1045(0x1af)]===_0x3e1045(0x189)||_0x5eda2f[_0x3e1045(0x109)]&&_0x5eda2f['shiftKey']&&_0x5eda2f[_0x3e1045(0x1af)]==='I'||_0x5eda2f[_0x3e1045(0x109)]&&_0x5eda2f[_0x3e1045(0x1af)]==='U'||_0x5eda2f['ctrlKey']&&_0x5eda2f['key']==='S'||_0x5eda2f[_0x3e1045(0x109)]&&_0x5eda2f[_0x3e1045(0x1af)]==='C')return _0x5eda2f[_0x3e1045(0x12f)](),![];}));const firebaseConfig={'apiKey':'AIzaSyB4Vaa2XFvNJArRFXXEJcaEEKPpBZtOenQ','authDomain':'prenotazionecampi2.firebaseapp.com','databaseURL':a0_0x500058(0x10b),'projectId':a0_0x500058(0x145),'storageBucket':'prenotazionecampi2.firebasestorage.app','messagingSenderId':'305195940450','appId':'1:305195940450:web:a160ef922c72a0b3462f3b','measurementId':a0_0x500058(0xc0)};firebase[a0_0x500058(0x110)](firebaseConfig);const db=firebase[a0_0x500058(0x1a8)]();let currentUser=null;const adminUsername=a0_0x500058(0x175),adminPassword=a0_0x500058(0x14a);let staticUsers={'admin':adminPassword,'user001':'jcne','user002':a0_0x500058(0x16f),'user003':'xqal','user004':'ekvn','user005':a0_0x500058(0x185),'user006':a0_0x500058(0x92),'user007':a0_0x500058(0x101),'user008':a0_0x500058(0x16b),'user009':a0_0x500058(0xc9),'user010':a0_0x500058(0xb5),'user011':a0_0x500058(0xba),'user012':a0_0x500058(0x1ac),'user013':'vukn','user014':a0_0x500058(0xa7),'user015':a0_0x500058(0x9f),'user016':'heml','user017':a0_0x500058(0xe6),'user018':a0_0x500058(0x11a),'user019':a0_0x500058(0x150),'user020':a0_0x500058(0x9c),'user021':a0_0x500058(0x130),'user022':a0_0x500058(0x13a),'user023':a0_0x500058(0x1aa),'user024':'wpkd','user025':a0_0x500058(0x142),'user026':a0_0x500058(0x1b1),'user027':'akpf','user028':a0_0x500058(0xbd),'user029':a0_0x500058(0x102),'user030':a0_0x500058(0x12e),'user031':a0_0x500058(0x183),'user032':a0_0x500058(0x19d),'user033':a0_0x500058(0x121),'user034':a0_0x500058(0x8e),'user035':a0_0x500058(0x11b),'user036':'nzfk','user037':a0_0x500058(0xf2),'user038':a0_0x500058(0x138),'user039':a0_0x500058(0x11c),'user040':a0_0x500058(0xda),'user041':a0_0x500058(0xb3),'user042':a0_0x500058(0xcd),'user043':a0_0x500058(0xdf),'user044':a0_0x500058(0x123),'user045':a0_0x500058(0xc3),'user046':'owrb','user047':a0_0x500058(0x14e),'user048':a0_0x500058(0x195),'user049':'prfv','user050':'hxla','user051':a0_0x500058(0xa0),'user052':a0_0x500058(0x89),'user053':'lxem','user054':'vqwd','user055':a0_0x500058(0xed),'user056':a0_0x500058(0x97),'user057':a0_0x500058(0x160),'user058':a0_0x500058(0x14f),'user059':a0_0x500058(0xeb),'user060':a0_0x500058(0xbf),'user061':a0_0x500058(0x148),'user062':a0_0x500058(0x15c),'user063':a0_0x500058(0x143),'user064':a0_0x500058(0x96),'user065':a0_0x500058(0x149),'user066':'mvzu','user067':a0_0x500058(0x153),'user068':a0_0x500058(0x144),'user069':a0_0x500058(0xdc),'user070':a0_0x500058(0x10c),'user071':'hrtk','user072':a0_0x500058(0x9e),'user073':a0_0x500058(0x100),'user074':a0_0x500058(0xfe),'user075':a0_0x500058(0xae),'user076':'jlwn','user077':'eykv','user078':a0_0x500058(0x18c),'user079':a0_0x500058(0x15b),'user080':a0_0x500058(0xc2),'user081':a0_0x500058(0x158),'user082':a0_0x500058(0x90),'user083':'bqyn','user084':a0_0x500058(0x128),'user085':a0_0x500058(0x152),'user086':'oejd','user087':a0_0x500058(0x117),'user088':a0_0x500058(0x16a),'user089':'dtwr','user090':a0_0x500058(0x1a4),'user091':a0_0x500058(0xd7),'user092':a0_0x500058(0x161),'user093':a0_0x500058(0x13b),'user094':a0_0x500058(0xad),'user095':a0_0x500058(0x163),'user096':a0_0x500058(0x1a9),'user097':'vjwb','user098':a0_0x500058(0xd2),'user099':a0_0x500058(0x190),'user100':'czqo','user101':'ewnh','user102':a0_0x500058(0x108),'user103':'pxkt','user104':a0_0x500058(0xe5),'user105':'ydlf','user106':'hnvz','user107':a0_0x500058(0x155),'user108':a0_0x500058(0xd6),'user109':a0_0x500058(0xfc),'user110':'ovmu','user111':a0_0x500058(0x192),'user112':a0_0x500058(0x8f),'user113':'fwzr','user114':a0_0x500058(0xcc),'user115':a0_0x500058(0x12b),'user116':a0_0x500058(0x16e),'user117':a0_0x500058(0x167),'user118':'epcd','user119':'ojkf','user120':'alnr','user121':'tzvq','user122':'fjwk','user123':a0_0x500058(0x18d),'user124':a0_0x500058(0x98),'user125':a0_0x500058(0x137),'user126':a0_0x500058(0xbb),'user127':a0_0x500058(0x1a0),'user128':'amol','user129':'fvrj','user130':a0_0x500058(0x181),'user131':'njcv','user132':a0_0x500058(0x1b4),'user133':'tpdz','user134':a0_0x500058(0x120),'user135':a0_0x500058(0x1b3),'user136':a0_0x500058(0x17f),'user137':a0_0x500058(0xe7),'user138':a0_0x500058(0xde),'user139':a0_0x500058(0xfd),'user140':a0_0x500058(0x91),'user141':'mdhx','user142':'ybrn','user143':a0_0x500058(0xd0),'user144':a0_0x500058(0x186),'user145':a0_0x500058(0x8a),'user146':a0_0x500058(0xa1),'user147':a0_0x500058(0x135),'user148':'wlpc','user149':'zfxb','user150':a0_0x500058(0x15a),'user151':a0_0x500058(0x1a5),'user152':'nzrl','user153':a0_0x500058(0x1a1),'user154':'clmo','user155':a0_0x500058(0x13e),'user156':a0_0x500058(0xea),'user157':a0_0x500058(0xaf),'user158':a0_0x500058(0x95),'user159':'jufq','user160':a0_0x500058(0x131),'user161':a0_0x500058(0x18a),'user162':a0_0x500058(0x169),'user163':a0_0x500058(0x13d),'user164':a0_0x500058(0xdf),'user165':a0_0x500058(0xa9),'user166':a0_0x500058(0x13c),'user167':'cwrx','user168':a0_0x500058(0xcf),'user169':a0_0x500058(0x19b),'user170':a0_0x500058(0x133),'user171':a0_0x500058(0xa5),'user172':a0_0x500058(0x119),'user173':a0_0x500058(0xaa),'user174':a0_0x500058(0xd3),'user175':a0_0x500058(0xa6),'user176':'jbvo','user177':a0_0x500058(0x116),'user178':'plqm','user179':'xzno','user180':a0_0x500058(0x156),'user181':a0_0x500058(0x99),'user182':'cfpz','user183':a0_0x500058(0xfa),'user184':a0_0x500058(0xc6),'user185':'kpzl','user186':a0_0x500058(0x129),'user187':a0_0x500058(0xec),'user188':'hpxc','user189':a0_0x500058(0xa2),'user190':a0_0x500058(0xb8),'user191':a0_0x500058(0xc1),'user192':a0_0x500058(0x188),'user193':a0_0x500058(0x196),'user194':a0_0x500058(0xa3),'user195':a0_0x500058(0xc8),'user196':a0_0x500058(0xdb),'user197':a0_0x500058(0xf1),'user198':a0_0x500058(0x105),'user199':'xvqw','user200':a0_0x500058(0x176)};const timeSlots=[a0_0x500058(0x187),a0_0x500058(0x9a),'10:00',a0_0x500058(0x19c),'12:00',a0_0x500058(0x18e),a0_0x500058(0x180),'15:00',a0_0x500058(0x15e),a0_0x500058(0xf8),a0_0x500058(0x17e),a0_0x500058(0x1ae),a0_0x500058(0x141)];let reservations={'BeachVolley1':{},'BeachVolley2':{},'Calcio':{},'Basket':{}};function getTodayDate(){const _0xdd0310=a0_0x500058,_0x50af1c=new Date();let _0x221931=_0x50af1c['getFullYear'](),_0x1b2945=String(_0x50af1c[_0xdd0310(0xbc)]()+0x1)[_0xdd0310(0xd8)](0x2,'0'),_0x1d7acb=String(_0x50af1c['getDate']())['padStart'](0x2,'0');return _0x221931+'-'+_0x1b2945+'-'+_0x1d7acb;}function showNotification(_0x15356d){const _0x2ac390=a0_0x500058,_0xf18ef2=document[_0x2ac390(0xe1)](_0x2ac390(0xf4)),_0x592deb=document[_0x2ac390(0xe9)](_0x2ac390(0x9b));_0x592deb[_0x2ac390(0x10f)]['add'](_0x2ac390(0x184)),_0x592deb[_0x2ac390(0xfb)]=_0x15356d,_0xf18ef2[_0x2ac390(0xe3)](_0x592deb),setTimeout(()=>_0x592deb['remove'](),0xbb8);}function login(){const _0x395bbb=a0_0x500058,_0x3bb052=document[_0x395bbb(0xe1)]('username')[_0x395bbb(0x132)]['trim'](),_0x4278d1=document[_0x395bbb(0xe1)](_0x395bbb(0xe8))[_0x395bbb(0x132)]['trim']();if(!_0x3bb052||!_0x4278d1){showNotification(_0x395bbb(0x106));return;}_0x3bb052===adminUsername&&_0x4278d1===adminPassword?authenticateUser(_0x3bb052):authenticateStaticUser(_0x3bb052,_0x4278d1);}function authenticateUser(_0x3db57f){const _0x5c3340=a0_0x500058;currentUser=_0x3db57f,toggleSections(!![]),toggleAdminSection(),loadReservationsFromFirestore(),checkAndResetAfterTen(),showNotification(_0x5c3340(0x94)+_0x3db57f+'!'),loadAdminNotesRealtime(),loadAdminImagesRealtime();}function authenticateStaticUser(_0x1fdb9e,_0x27e8e4){const _0xd170f2=a0_0x500058;db[_0xd170f2(0x197)](_0xd170f2(0xca))[_0xd170f2(0x12d)](_0x1fdb9e)[_0xd170f2(0x112)]()['then'](_0x19e08d=>{const _0x336260=_0xd170f2;let _0x4914e7=staticUsers[_0x1fdb9e];_0x19e08d[_0x336260(0x10e)]&&_0x19e08d[_0x336260(0x122)]()[_0x336260(0xe8)]&&(_0x4914e7=_0x19e08d[_0x336260(0x122)]()['password']);const _0x2bc003=_0x19e08d[_0x336260(0x10e)]?_0x19e08d[_0x336260(0x122)]()[_0x336260(0x1b0)]:![];if(_0x2bc003){showNotification(_0x336260(0x10a));return;}_0x4914e7===_0x27e8e4?(currentUser=_0x1fdb9e,!_0x19e08d['exists']&&db[_0x336260(0x197)](_0x336260(0xca))[_0x336260(0x12d)](_0x1fdb9e)[_0x336260(0x114)]({'password':staticUsers[_0x1fdb9e],'disabled':![],'role':'user'}),toggleSections(!![]),toggleAdminSection(),loadReservationsFromFirestore(),checkAndResetAfterTen(),showNotification(_0x336260(0x94)+_0x1fdb9e+'!'),document['getElementById'](_0x336260(0x18b))[_0x336260(0xf6)]['display']=_0x336260(0x8b),loadAdminNotesRealtime(),loadAdminImagesRealtime()):showNotification(_0x336260(0x178));})[_0xd170f2(0xf0)](_0x17ea2c=>{const _0x3c55f5=_0xd170f2;console[_0x3c55f5(0xb6)](_0x17ea2c),showNotification(_0x3c55f5(0xa8));});}function logout(){currentUser=null,toggleSections(![]),showNotification('Sei\x20uscito\x20con\x20successo.');}function loadReservationsFromFirestore(){const _0x1a179c=a0_0x500058,_0x1df2ba=getTodayDate();reservations={'BeachVolley1':{},'BeachVolley2':{},'Calcio':{},'Basket':{}},db[_0x1a179c(0x197)](_0x1a179c(0x1a7))[_0x1a179c(0x179)]('date','==',_0x1df2ba)[_0x1a179c(0x112)]()['then'](_0xdf4a=>{const _0x5406e0=_0x1a179c;_0xdf4a[_0x5406e0(0xdd)](_0x1e8146=>{const _0x5dcc7d=_0x5406e0,{field:_0x108ab4,time:_0x66a5b2,user:_0xee61a6}=_0x1e8146[_0x5dcc7d(0x122)]();if(!reservations[_0x108ab4][_0x1df2ba])reservations[_0x108ab4][_0x1df2ba]={};reservations[_0x108ab4][_0x1df2ba][_0x66a5b2]=_0xee61a6;}),populateAllFields(),listenRealtimeForToday();})[_0x1a179c(0xf0)](_0x3a1ae8=>{const _0xd9c6a9=_0x1a179c;console[_0xd9c6a9(0xb6)]('Errore\x20caricamento\x20prenotazioni:',_0x3a1ae8),showNotification('Errore\x20caricamento\x20prenotazioni.');});}function listenRealtimeForToday(){const _0x2ddf1c=a0_0x500058,_0x4e6702=getTodayDate();db[_0x2ddf1c(0x197)](_0x2ddf1c(0x1a7))['where'](_0x2ddf1c(0x118),'==',_0x4e6702)[_0x2ddf1c(0x19e)](_0x4ec82c=>{const _0x156728=_0x2ddf1c;reservations={'BeachVolley1':{},'BeachVolley2':{},'Calcio':{},'Basket':{}},_0x4ec82c[_0x156728(0xdd)](_0x20b660=>{const _0x461d29=_0x156728,{field:_0x3a79c9,time:_0x436749,user:_0x58d108}=_0x20b660[_0x461d29(0x122)]();if(!reservations[_0x3a79c9][_0x4e6702])reservations[_0x3a79c9][_0x4e6702]={};reservations[_0x3a79c9][_0x4e6702][_0x436749]=_0x58d108;}),populateAllFields(),populateAdminTable(),currentUser===adminUsername&&populateCredentialsTable();});}function saveReservationToFirestore(_0x3350af,_0x393af0,_0x1cacb6,_0x28e2ad,_0x1da9c7){const _0x288dca=a0_0x500058,_0x1dba57=_0x3350af+'_'+_0x393af0+'_'+_0x1cacb6+'_'+_0x28e2ad;return db[_0x288dca(0x197)](_0x288dca(0x1a7))[_0x288dca(0x12d)](_0x1dba57)[_0x288dca(0x114)]({'field':_0x3350af,'date':_0x393af0,'time':_0x1cacb6,'user':_0x28e2ad,'role':_0x1da9c7});}function deleteReservationFromFirestore(_0x386554,_0x597bdb,_0x21931d,_0x476574){const _0x181d42=a0_0x500058,_0x2f2a8f=_0x386554+'_'+_0x597bdb+'_'+_0x21931d+'_'+_0x476574;return db[_0x181d42(0x197)](_0x181d42(0x1a7))[_0x181d42(0x12d)](_0x2f2a8f)[_0x181d42(0x151)]();}function a0_0x2d53(_0x38ed1e,_0x402c5a){const _0x3d0cd2=a0_0x3d0c();return a0_0x2d53=function(_0x2d5386,_0x128ec4){_0x2d5386=_0x2d5386-0x89;let _0xd9592b=_0x3d0cd2[_0x2d5386];return _0xd9592b;},a0_0x2d53(_0x38ed1e,_0x402c5a);}function userHasBookingToday(){const _0x234b2e=getTodayDate();for(let _0x12ddb7 in reservations){if(reservations[_0x12ddb7][_0x234b2e])for(let _0x13797c in reservations[_0x12ddb7][_0x234b2e]){if(reservations[_0x12ddb7][_0x234b2e][_0x13797c]===currentUser)return!![];}}return![];}function populateAllFields(){const _0x588c51=a0_0x500058;[_0x588c51(0x171),'BeachVolley2','Calcio',_0x588c51(0x8c)][_0x588c51(0xdd)](_0x877a11=>populateFieldSlots(_0x877a11));}function populateFieldSlots(_0x290580){const _0x41d2d6=a0_0x500058,_0x31e86f=getTodayDate(),_0x1516c3=document[_0x41d2d6(0xe1)](_0x41d2d6(0x17b)+_0x290580);if(!reservations[_0x290580][_0x31e86f])reservations[_0x290580][_0x31e86f]={};_0x1516c3[_0x41d2d6(0xff)]='',timeSlots[_0x41d2d6(0xdd)](_0x1ce302=>{const _0x38d9b4=_0x41d2d6,_0x25c151=document[_0x38d9b4(0xe9)](_0x38d9b4(0x9b));_0x25c151[_0x38d9b4(0x10f)][_0x38d9b4(0xd4)](_0x38d9b4(0x19a));const _0x46d0a6=reservations[_0x290580][_0x31e86f][_0x1ce302];_0x46d0a6?_0x46d0a6===currentUser?(_0x25c151[_0x38d9b4(0x10f)][_0x38d9b4(0xd4)](_0x38d9b4(0x164)),_0x25c151[_0x38d9b4(0xfb)]=_0x1ce302+_0x38d9b4(0xe2),_0x25c151['onclick']=()=>cancelUserReservation(_0x290580,_0x1ce302)):(_0x25c151['classList'][_0x38d9b4(0xd4)](_0x38d9b4(0x16c)),_0x25c151[_0x38d9b4(0xfb)]=_0x1ce302+_0x38d9b4(0x13f)):(_0x25c151['classList'][_0x38d9b4(0xd4)](_0x38d9b4(0xb1)),_0x25c151['textContent']=_0x1ce302+_0x38d9b4(0x146),_0x25c151[_0x38d9b4(0x125)]=()=>bookSlot(_0x290580,_0x1ce302)),_0x1516c3[_0x38d9b4(0xe3)](_0x25c151);});}function bookSlot(_0x339544,_0x23d6b8){const _0x1d0317=a0_0x500058,_0x208289=getTodayDate();if(currentUser!==adminUsername&&userHasBookingToday()){showNotification(_0x1d0317(0x191));return;}if(reservations[_0x339544][_0x208289][_0x23d6b8]){showNotification('Questo\x20slot\x20è\x20già\x20prenotato.');return;}db[_0x1d0317(0x197)]('users')[_0x1d0317(0x12d)](currentUser)[_0x1d0317(0x112)]()[_0x1d0317(0x165)](_0x1dc546=>{const _0x1ca741=_0x1d0317,_0x3bab38=_0x1dc546['exists']?_0x1dc546[_0x1ca741(0x122)]()[_0x1ca741(0x103)]:_0x1ca741(0x162);saveReservationToFirestore(_0x339544,_0x208289,_0x23d6b8,currentUser,_0x3bab38)[_0x1ca741(0x165)](()=>showNotification('Prenotazione\x20effettuata:\x20'+_0x339544+_0x1ca741(0xd5)+_0x23d6b8))[_0x1ca741(0xf0)](_0xd6a0f=>{const _0x383dd5=_0x1ca741;console[_0x383dd5(0xb6)](_0x383dd5(0x18f),_0xd6a0f),showNotification(_0x383dd5(0x12c));});})['catch'](_0xe54583=>{const _0x11cc20=_0x1d0317;console[_0x11cc20(0xb6)](_0x11cc20(0x198),_0xe54583),showNotification('Errore\x20durante\x20la\x20prenotazione.');});}function cancelUserReservation(_0xa7e32c,_0x4c5aa0){const _0x1883ce=a0_0x500058,_0x46d58b=getTodayDate();reservations[_0xa7e32c][_0x46d58b][_0x4c5aa0]===currentUser?deleteReservationFromFirestore(_0xa7e32c,_0x46d58b,_0x4c5aa0,currentUser)[_0x1883ce(0x165)](()=>showNotification('Prenotazione\x20per\x20'+_0xa7e32c+_0x1883ce(0xd5)+_0x4c5aa0+_0x1883ce(0x177)))['catch'](_0xc19aca=>{const _0x13ba68=_0x1883ce;console[_0x13ba68(0xb6)]('Errore\x20durante\x20la\x20cancellazione:',_0xc19aca),showNotification(_0x13ba68(0x14c));}):showNotification('Non\x20puoi\x20cancellare\x20la\x20prenotazione\x20di\x20un\x20altro\x20utente.');}function populateAdminTable(){const _0x1c59e3=a0_0x500058,_0x169e5e=getTodayDate(),_0x41e6e6=document[_0x1c59e3(0xe1)](_0x1c59e3(0x1b2));_0x41e6e6['innerHTML']='';for(let _0x3d4945 in reservations){if(reservations[_0x3d4945][_0x169e5e])for(let _0x2d00b2 in reservations[_0x3d4945][_0x169e5e]){const _0x2c8b05=reservations[_0x3d4945][_0x169e5e][_0x2d00b2],_0x4689d6=document[_0x1c59e3(0xe9)]('tr');_0x4689d6[_0x1c59e3(0xff)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x3d4945+_0x1c59e3(0x124)+_0x169e5e+_0x1c59e3(0x124)+_0x2d00b2+_0x1c59e3(0x124)+_0x2c8b05+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22cancel-btn\x22\x20onclick=\x22deleteAdminReservation(\x27'+_0x3d4945+_0x1c59e3(0x9d)+_0x169e5e+_0x1c59e3(0x9d)+_0x2d00b2+'\x27,\x27'+_0x2c8b05+_0x1c59e3(0x127),_0x41e6e6[_0x1c59e3(0xe3)](_0x4689d6);}}}function deleteAdminReservation(_0x441b87,_0x57d2c7,_0x47c3c0,_0x46c09c){const _0x2555df=a0_0x500058;deleteReservationFromFirestore(_0x441b87,_0x57d2c7,_0x47c3c0,_0x46c09c)['then'](()=>showNotification(_0x2555df(0xb4)+_0x441b87+_0x2555df(0xd5)+_0x47c3c0+_0x2555df(0xa4)+_0x46c09c+_0x2555df(0x172)))[_0x2555df(0xf0)](_0x22a54e=>{const _0x4f1152=_0x2555df;console['error'](_0x4f1152(0x157),_0x22a54e),showNotification(_0x4f1152(0x14c));});}function populateCredentialsTable(){const _0x1ac3b2=a0_0x500058,_0x52e6b2=document[_0x1ac3b2(0xe1)](_0x1ac3b2(0x139));_0x52e6b2[_0x1ac3b2(0xff)]='',db[_0x1ac3b2(0x197)](_0x1ac3b2(0xca))['get']()[_0x1ac3b2(0x165)](_0x45d880=>{const _0x473fe0=_0x1ac3b2;_0x45d880[_0x473fe0(0xdd)](_0x56123a=>{const _0x427b2e=_0x473fe0,_0x3effbe=_0x56123a['data'](),_0xf04e76=_0x56123a['id'],_0xb372f9=_0x3effbe[_0x427b2e(0xe8)]?_0x3effbe['password']:staticUsers[_0xf04e76]||'N/A',_0x281755=document[_0x427b2e(0xe9)]('tr');_0x281755[_0x427b2e(0xff)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xf04e76+_0x427b2e(0x168)+_0xb372f9+_0x427b2e(0x168)+(_0x3effbe['disabled']?_0x427b2e(0x111):_0x427b2e(0x17c))+_0x427b2e(0x1ad)+_0xf04e76+_0x427b2e(0xcb)+_0x3effbe[_0x427b2e(0x1b0)]+_0x427b2e(0xc5)+(_0x3effbe[_0x427b2e(0x1b0)]?'fa-toggle-off':_0x427b2e(0x1ab))+_0x427b2e(0x193)+(_0x3effbe[_0x427b2e(0x1b0)]?_0x427b2e(0x19f):_0x427b2e(0xac))+_0x427b2e(0x93)+_0xf04e76+_0x427b2e(0x12a),_0x52e6b2[_0x427b2e(0xe3)](_0x281755);});})['catch'](_0x4e726f=>console['error'](_0x4e726f));}function toggleUserStatus(_0xfd206,_0x3ab40d){const _0x186b0b=a0_0x500058,_0x4114ac=!_0x3ab40d;db[_0x186b0b(0x197)](_0x186b0b(0xca))[_0x186b0b(0x12d)](_0xfd206)['set']({'disabled':_0x4114ac},{'merge':!![]})[_0x186b0b(0x165)](()=>{const _0x2796e0=_0x186b0b;populateCredentialsTable(),showNotification(_0x2796e0(0x182)+_0xfd206+'\x20'+(_0x4114ac?_0x2796e0(0x15d):_0x2796e0(0x10d))+'.');})[_0x186b0b(0xf0)](_0x1ce8dc=>{const _0x5e3c7f=_0x186b0b;console[_0x5e3c7f(0xb6)](_0x1ce8dc),showNotification('Errore\x20durante\x20l\x27aggiornamento\x20dello\x20stato.');});}function modifyUserPassword(_0x39d3fe){const _0x2ba790=a0_0x500058;if(currentUser!==adminUsername){showNotification(_0x2ba790(0x1a6));return;}const _0x178674=prompt(_0x2ba790(0xd9)+_0x39d3fe+':');if(!_0x178674)return;db[_0x2ba790(0x197)](_0x2ba790(0xca))[_0x2ba790(0x12d)](_0x39d3fe)[_0x2ba790(0x114)]({'password':_0x178674},{'merge':!![]})['then'](()=>{const _0x4e7983=_0x2ba790;staticUsers[_0x39d3fe]=_0x178674,populateCredentialsTable(),showNotification(_0x4e7983(0xb0)+_0x39d3fe);})[_0x2ba790(0xf0)](_0x3ddac3=>{const _0x476066=_0x2ba790;console[_0x476066(0xb6)](_0x3ddac3),showNotification(_0x476066(0x199));});}function loadAdminNotesRealtime(){const _0x2a81a5=a0_0x500058;db[_0x2a81a5(0x197)]('admin')[_0x2a81a5(0x12d)](_0x2a81a5(0x115))[_0x2a81a5(0x19e)](_0x509b0a=>{const _0x14e199=_0x2a81a5;if(_0x509b0a[_0x14e199(0x10e)]){const _0x3d9266=_0x509b0a[_0x14e199(0x122)]()[_0x14e199(0xe0)]||'';document['getElementById'](_0x14e199(0x140))[_0x14e199(0xfb)]=_0x3d9266,currentUser===adminUsername&&(document[_0x14e199(0xe1)](_0x14e199(0xab))[_0x14e199(0x132)]=_0x3d9266);}else db[_0x14e199(0x197)]('admin')[_0x14e199(0x12d)](_0x14e199(0x115))[_0x14e199(0x114)]({'text':''}),document[_0x14e199(0xe1)]('notes-content')[_0x14e199(0xfb)]='';});}function saveAdminNotes(){const _0x1d055f=a0_0x500058;if(currentUser!==adminUsername){showNotification(_0x1d055f(0x11e));return;}const _0x4f440d=document[_0x1d055f(0xe1)]('admin-notes')[_0x1d055f(0x132)];db[_0x1d055f(0x197)](_0x1d055f(0x175))[_0x1d055f(0x12d)]('notes')[_0x1d055f(0x114)]({'text':_0x4f440d})[_0x1d055f(0xf0)](_0x426adc=>{const _0x368f99=_0x1d055f;console[_0x368f99(0xb6)](_0x368f99(0xb7),_0x426adc),showNotification(_0x368f99(0x154));});}function loadAdminImagesRealtime(){const _0x1ec999=a0_0x500058;db['collection'](_0x1ec999(0x175))[_0x1ec999(0x12d)]('images')[_0x1ec999(0x19e)](_0x34731d=>{const _0x5b72ec=_0x1ec999,_0x480bdb=document[_0x5b72ec(0xe1)](_0x5b72ec(0x194));_0x480bdb[_0x5b72ec(0xff)]='';if(_0x34731d[_0x5b72ec(0x10e)]){const _0x4f8ab3=_0x34731d[_0x5b72ec(0x122)]();for(let _0x29790a=0x1;_0x29790a<=0xa;_0x29790a++){const _0x2a8ee5=_0x5b72ec(0x126)+_0x29790a+_0x5b72ec(0x11d),_0x2c1d72=_0x5b72ec(0x126)+_0x29790a+_0x5b72ec(0xef),_0x2f1fe0=_0x4f8ab3[_0x2a8ee5]||'',_0x1b4b17=_0x4f8ab3[_0x2c1d72]||'';if(_0x2f1fe0){const _0x3991aa=document['createElement']('a');_0x3991aa[_0x5b72ec(0x11f)]=_0x1b4b17||'#',_0x3991aa[_0x5b72ec(0x147)]='_blank';const _0x73fb3c=document[_0x5b72ec(0xe9)]('img');_0x73fb3c[_0x5b72ec(0x16d)]=_0x2f1fe0,_0x73fb3c[_0x5b72ec(0xf5)]=_0x5b72ec(0xce)+_0x29790a,_0x3991aa[_0x5b72ec(0xe3)](_0x73fb3c),_0x480bdb[_0x5b72ec(0xe3)](_0x3991aa);}}if(currentUser===adminUsername)for(let _0x138ea0=0x1;_0x138ea0<=0xa;_0x138ea0++){document['getElementById'](_0x5b72ec(0x126)+_0x138ea0+_0x5b72ec(0x11d))[_0x5b72ec(0x132)]=_0x4f8ab3[_0x5b72ec(0x126)+_0x138ea0+'URL']||'',document[_0x5b72ec(0xe1)](_0x5b72ec(0x126)+_0x138ea0+'Link')[_0x5b72ec(0x132)]=_0x4f8ab3['image'+_0x138ea0+_0x5b72ec(0xef)]||'';}}else{const _0x3afc41={};for(let _0x6be6b4=0x1;_0x6be6b4<=0xa;_0x6be6b4++){_0x3afc41[_0x5b72ec(0x126)+_0x6be6b4+_0x5b72ec(0x11d)]='',_0x3afc41['image'+_0x6be6b4+'Link']='';}db[_0x5b72ec(0x197)](_0x5b72ec(0x175))[_0x5b72ec(0x12d)](_0x5b72ec(0xf9))[_0x5b72ec(0x114)](_0x3afc41);}});}function saveAdminImages(){const _0x2e2439=a0_0x500058;if(currentUser!==adminUsername){showNotification('Non\x20hai\x20i\x20permessi\x20per\x20modificare\x20le\x20immagini.');return;}const _0x467e91={};for(let _0x3e923d=0x1;_0x3e923d<=0xa;_0x3e923d++){_0x467e91[_0x2e2439(0x126)+_0x3e923d+_0x2e2439(0x11d)]=document[_0x2e2439(0xe1)]('image'+_0x3e923d+_0x2e2439(0x11d))[_0x2e2439(0x132)][_0x2e2439(0xd1)](),_0x467e91['image'+_0x3e923d+_0x2e2439(0xef)]=document['getElementById']('image'+_0x3e923d+'Link')['value'][_0x2e2439(0xd1)]();}db[_0x2e2439(0x197)](_0x2e2439(0x175))[_0x2e2439(0x12d)](_0x2e2439(0xf9))[_0x2e2439(0x114)](_0x467e91)['then'](()=>{const _0x44270d=_0x2e2439;showNotification(_0x44270d(0x134));})[_0x2e2439(0xf0)](_0x582cb2=>{const _0x228de0=_0x2e2439;console[_0x228de0(0xb6)](_0x228de0(0x14d),_0x582cb2),showNotification('Errore\x20durante\x20il\x20salvataggio\x20delle\x20immagini.');});}function toggleSections(_0x123165){const _0x2abf06=a0_0x500058;document[_0x2abf06(0xe1)]('login-area')['style'][_0x2abf06(0x174)]=_0x123165?_0x2abf06(0xc4):_0x2abf06(0xf3),document[_0x2abf06(0xe1)]('app-area')[_0x2abf06(0xf6)][_0x2abf06(0x174)]=_0x123165?_0x2abf06(0xf3):_0x2abf06(0xc4);}function toggleAdminSection(){const _0x4ad73d=a0_0x500058,_0x4f7597=document[_0x4ad73d(0xe1)](_0x4ad73d(0x1b5));_0x4f7597[_0x4ad73d(0xf6)][_0x4ad73d(0x174)]=currentUser===adminUsername?'block':_0x4ad73d(0xc4);const _0x2600c1=document[_0x4ad73d(0xe1)](_0x4ad73d(0xab));currentUser===adminUsername?(_0x2600c1[_0x4ad73d(0xf6)]['display']=_0x4ad73d(0x8b),_0x2600c1[_0x4ad73d(0xbe)](_0x4ad73d(0x17a),saveAdminNotes)):(_0x2600c1[_0x4ad73d(0xf6)][_0x4ad73d(0x174)]=_0x4ad73d(0xc4),_0x2600c1['removeEventListener'](_0x4ad73d(0x17a),saveAdminNotes));}function checkAndResetAfterTen(){const _0x357834=a0_0x500058,_0x233e83=localStorage['getItem']('lastResetDate'),_0x28bb0f=getTodayDate(),_0x4df441=new Date();_0x233e83!==_0x28bb0f&&_0x4df441[_0x357834(0x136)]()>=0xa&&(resetAllReservations(),localStorage['setItem'](_0x357834(0xf7),_0x28bb0f));}function a0_0x3d0c(){const _0x516048=['eznf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','onclick','image','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Elimina\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','zmpa','fqad','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x22></i>\x20Modifica\x20Password\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20','dhqb','Errore\x20durante\x20la\x20prenotazione.','doc','xhvt','preventDefault','qvlm','womn','value','hfxr','Immagini\x20salvate\x20con\x20successo.','tnyr','getHours','wlfp','ojbw','credentials-table','unyt','ektm','azmf','rwkx','pvew','\x20-\x20Prenotato','notes-content','20:00','oyfj','ytai','teln','prenotazionecampi2','\x20-\x20Disponibile','target','rljq','xpdn','passwordAdmin','batch','Errore\x20durante\x20la\x20cancellazione.','Errore\x20salvataggio\x20immagini:','mnqd','tfkr','ytak','delete','wfuz','ojwr','Errore\x20durante\x20il\x20salvataggio\x20delle\x20note.','ekow','uvlw','Errore\x20durante\x20la\x20cancellazione:','nvce','428UtZzGp','hcrj','oltd','vewu','disabilitato','16:00','58295592zsftNp','nzhl','frbl','user','ytlm','my-booking','then','1771440yObUNp','kyuo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>','eytn','plnc','pwxa','unavailable','src','rmvl','hoyw','178317nLzqfb','BeachVolley1','\x20eliminata.','Prenotazioni\x20resettate\x20per\x20il\x20nuovo\x20giorno.','display','admin','drmf','\x20annullata.','Credenziali\x20errate!','where','input','slots-','Attivo','344CXwIIb','18:00','ekqu','14:00','kdzx','Utente\x20','jcrw','notification','msyo','kpva','08:00','drky','F12','hqzl','pay-booking-container','czpj','xqoa','13:00','Errore\x20durante\x20la\x20prenotazione:','lmvt','Hai\x20già\x20effettuato\x20una\x20prenotazione\x20per\x20oggi.','jaly','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','login-images-container','kzwp','wlcp','collection','Errore\x20recupero\x20ruolo\x20utente:','Errore\x20durante\x20l\x27aggiornamento\x20della\x20password.','slot','pjku','11:00','pkaz','onSnapshot','Attiva','bzqh','wtvy','keydown','4909OziOma','qvjm','dbto','Non\x20hai\x20i\x20permessi\x20per\x20modificare\x20la\x20password.','reservations','firestore','oqfi','bzio','fa-toggle-on','tefz','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserStatus(\x27','19:00','key','disabled','mevl','admin-table','vlio','xyal','admin-area','bzcn','ofzx','block','Basket','690ehCXvK','dqmh','pcnz','jxow','ufcz','zfil','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22modifyUserPassword(\x27','Benvenuto,\x20','bzvr','qlkr','pcmn','dzrm','djyx','09:00','div','fgxr','\x27,\x27','dngv','joax','dyuk','ajqw','wnzt','bntz','\x20dell\x27utente\x20','ymzd','tdmz','ywqc','Errore\x20durante\x20il\x20login.','dtno','owrf','admin-notes','Disattiva','wvpx','xroa','xdlj','Password\x20aggiornata\x20per\x20','available','ref','cnhx','Prenotazione\x20per\x20','gdmu','error','Errore\x20salvataggio\x20note:','ojfq','Errore\x20durante\x20il\x20reset:','lxqp','vknc','getMonth','cznx','addEventListener','owfz','G-R5ENJ7J2R1','zmva','urfb','tjya','none',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','rwtn','2155112sgwgFZ','ovjr','nkcv','users','\x27,\x20','gtox','fqzm','Immagine\x20','ynol','qtoi','trim','akxe','elpn','add','\x20alle\x20','wrfp','zcyu','padStart','Inserisci\x20la\x20nuova\x20password\x20per\x20','ykvr','fqzx','fqzy','forEach','woan','vlpu','text','getElementById','\x20-\x20Prenotato\x20da\x20Te','appendChild','5QJcDgY','vujr','dpuz','jyzf','password','createElement','ofqn','kmyv','lyvo','ajok','log','Link','catch','nxom','grya','flex','notification-container','alt','style','lastResetDate','17:00','images','mqvi','textContent','xqtn','lvpk','wvkc','innerHTML','paum','rbte','bluo','role','7aSvEFG','pklc','Inserisci\x20username\x20e\x20password.','5613990UGKjHe','obml','ctrlKey','Questo\x20utente\x20è\x20disabilitato.','https://prenotazionecampi2-default-rtdb.firebaseio.com','blmc','attivato','exists','classList','initializeApp','Disabilitato','get','13095uOIrZM','set','notes','kfwr','hvri','date','qvtk','scnv','vsjo','lmqd','URL','Non\x20hai\x20i\x20permessi\x20per\x20modificare\x20le\x20note.','href','rfwb','twne','data'];a0_0x3d0c=function(){return _0x516048;};return a0_0x3d0c();}function resetAllReservations(){const _0x4dac61=a0_0x500058,_0x233747=getTodayDate();db['collection'](_0x4dac61(0x1a7))[_0x4dac61(0x179)]('date','==',_0x233747)[_0x4dac61(0x112)]()['then'](_0x166fcf=>{const _0x3f0895=_0x4dac61,_0x54f491=db[_0x3f0895(0x14b)]();return _0x166fcf[_0x3f0895(0xdd)](_0x3c9919=>{const _0x4cc056=_0x3f0895,_0x7e2c71=_0x3c9919[_0x4cc056(0x122)]();_0x7e2c71[_0x4cc056(0x162)]!==adminUsername&&_0x54f491[_0x4cc056(0x151)](_0x3c9919[_0x4cc056(0xb2)]);}),_0x54f491['commit']();})[_0x4dac61(0x165)](()=>{const _0xc3a3a5=_0x4dac61;showNotification(_0xc3a3a5(0x173)),loadReservationsFromFirestore();})[_0x4dac61(0xf0)](_0x4049dc=>{const _0x56cd62=_0x4dac61;console['error'](_0x56cd62(0xb9),_0x4049dc),showNotification('Errore\x20durante\x20il\x20reset\x20delle\x20prenotazioni.');});}document['addEventListener']('DOMContentLoaded',()=>{toggleSections(![]),loadAdminImagesRealtime();});async function pulisciPrenotazioni(){const _0x1b9880=a0_0x500058,_0x530457=getTodayDate();try{const _0x817ae1=await db['collection'](_0x1b9880(0x1a7))[_0x1b9880(0x112)]();_0x817ae1[_0x1b9880(0xdd)](async _0x501e0a=>{const _0xdfcda9=_0x1b9880,_0x55d0af=_0x501e0a[_0xdfcda9(0x122)]()[_0xdfcda9(0x118)];_0x55d0af<_0x530457&&(await db[_0xdfcda9(0x197)]('reservations')[_0xdfcda9(0x12d)](_0x501e0a['id'])[_0xdfcda9(0x151)](),console[_0xdfcda9(0xee)]('Prenotazione\x20'+_0x501e0a['id']+_0xdfcda9(0x172)));});}catch(_0x2fd89e){console[_0x1b9880(0xb6)]('Errore\x20nella\x20pulizia\x20delle\x20prenotazioni:',_0x2fd89e);}}pulisciPrenotazioni();